package learnscala1

object test11 {

class Poly(val terms: Map[Int, Double]){

	//def this(binds : (Int, Double)*) = this(binds.toMap)
	def this(bool : Boolean) = this (Map(1 -> 1.0, 2 -> 2.0,3 -> 3.0))
	def + (that : Poly) = new Poly(terms ++ (that.terms map adjust))
	
	def adjust(term : (Int, Double)) : (Int, Double) = {
		val (exp, cof) = term
		terms get exp match {
			case None => (exp -> cof)
			case Some(cof1) => (exp -> (cof + cof1))
		}
	}

	override def toString() =
		(for ((exp, coff) <- terms.toList.sorted.reverse) yield coff + "x^" + exp) mkString " + "
}

  val x = new Poly(Map(1 -> 2.0, 3 -> 4.0, 5 -> 6.2))
  //val y = new Poly(0 -> 3.0, 3 -> 7.0)
  val z = new Poly(true)
  x + z
  x + y
}